/*
 / _____)             _              | |
( (____  _____ ____ _| |_ _____  ____| |__
 \____ \| ___ |    (_   _) ___ |/ ___)  _ \
 _____) ) ____| | | || |_| ____( (___| | | |
(______/|_____)_|_|_| \__)_____)\____)_| |_|
  (C)2018 Semtech

Description:
    TODO

License: Revised BSD License, see LICENSE.TXT file include in the project
*/


/* -------------------------------------------------------------------------- */
/* --- DEPENDANCIES --------------------------------------------------------- */

#include <stdint.h>     /* C99 types */
#include <stdbool.h>    /* bool type */
#include <stdio.h>      /* printf fprintf */

#include "loragw_spi.h"
#include "loragw_reg.h"

/* -------------------------------------------------------------------------- */
/* --- PRIVATE MACROS ------------------------------------------------------- */

#define ARRAY_SIZE(a) (sizeof(a) / sizeof((a)[0]))
#if DEBUG_REG == 1
    #define DEBUG_MSG(str)              fprintf(stderr, str)
    #define DEBUG_PRINTF(fmt, args...)  fprintf(stderr,"%s:%d: "fmt, __FUNCTION__, __LINE__, args)
    #define CHECK_NULL(a)               if(a==NULL){fprintf(stderr,"%s:%d: ERROR: NULL POINTER AS ARGUMENT\n", __FUNCTION__, __LINE__);return LGW_REG_ERROR;}
#else
    #define DEBUG_MSG(str)
    #define DEBUG_PRINTF(fmt, args...)
    #define CHECK_NULL(a)               if(a==NULL){return LGW_REG_ERROR;}
#endif

/* -------------------------------------------------------------------------- */
/* --- PRIVATE CONSTANTS ---------------------------------------------------- */

#define SX1302_REG_EXT_MEM_PAGED_BASE_ADDR 0x0
#define SX1302_REG_RX_BUFFER_BASE_ADDR 0x4000
#define SX1302_REG_TX_TOP_A_BASE_ADDR 0x5200
#define SX1302_REG_TX_TOP_B_BASE_ADDR 0x5400
#define SX1302_REG_COMMON_BASE_ADDR 0x5600
#define SX1302_REG_GPIO_BASE_ADDR 0x5640
#define SX1302_REG_MBIST_BASE_ADDR 0x56c0
#define SX1302_REG_RADIO_FE_BASE_ADDR 0x5700
#define SX1302_REG_AGC_MCU_BASE_ADDR 0x5780
#define SX1302_REG_CLK_CTRL_BASE_ADDR 0x57c0
#define SX1302_REG_RX_TOP_BASE_ADDR 0x5800
#define SX1302_REG_RX_TOP_LORA_SERVICE_FSK_BASE_ADDR 0x5b00
#define SX1302_REG_CAPTURE_RAM_BASE_ADDR 0x6000
#define SX1302_REG_ARB_MCU_BASE_ADDR 0x6080
#define SX1302_REG_TIMESTAMP_BASE_ADDR 0x6100
#define SX1302_REG_OTP_BASE_ADDR 0x6180

const struct lgw_reg_s loregs[LGW_TOTALREGS+1] = {
    {0,SX1302_REG_COMMON_BASE_ADDR+0,0,0,2,0,0}, // COMMON_PAGE_PAGE
    {0,SX1302_REG_COMMON_BASE_ADDR+1,4,0,1,0,0}, // COMMON_CTRL0_CLK32_RIF_CTRL
    {0,SX1302_REG_COMMON_BASE_ADDR+1,3,0,1,0,1}, // COMMON_CTRL0_HOST_RADIO_CTRL
    {0,SX1302_REG_COMMON_BASE_ADDR+1,2,0,1,0,0}, // COMMON_CTRL0_RADIO_MISC_EN
    {0,SX1302_REG_COMMON_BASE_ADDR+1,1,0,1,0,0}, // COMMON_CTRL0_SX1261_MODE_RADIO_B
    {0,SX1302_REG_COMMON_BASE_ADDR+1,0,0,1,0,0}, // COMMON_CTRL0_SX1261_MODE_RADIO_A
    {0,SX1302_REG_COMMON_BASE_ADDR+2,3,0,1,0,0}, // COMMON_CTRL1_SWAP_IQ_RADIO_B
    {0,SX1302_REG_COMMON_BASE_ADDR+2,2,0,1,0,1}, // COMMON_CTRL1_SAMPLING_EDGE_RADIO_B
    {0,SX1302_REG_COMMON_BASE_ADDR+2,1,0,1,0,0}, // COMMON_CTRL1_SWAP_IQ_RADIO_A
    {0,SX1302_REG_COMMON_BASE_ADDR+2,0,0,1,0,1}, // COMMON_CTRL1_SAMPLING_EDGE_RADIO_A
    {0,SX1302_REG_COMMON_BASE_ADDR+3,0,0,8,0,2}, // COMMON_SPI_DIV_RATIO_SPI_HALF_PERIOD
    {0,SX1302_REG_COMMON_BASE_ADDR+4,0,0,8,0,128}, // COMMON_RADIO_SELECT_RADIO_SELECT
    {0,SX1302_REG_COMMON_BASE_ADDR+5,3,0,1,0,0}, // COMMON_GEN_GLOBAL_EN
    {0,SX1302_REG_COMMON_BASE_ADDR+5,2,0,1,0,0}, // COMMON_GEN_FSK_MODEM_ENABLE
    {0,SX1302_REG_COMMON_BASE_ADDR+5,1,0,1,0,0}, // COMMON_GEN_CONCENTRATOR_MODEM_ENABLE
    {0,SX1302_REG_COMMON_BASE_ADDR+5,0,0,1,0,0}, // COMMON_GEN_MBWSSF_MODEM_ENABLE
    {0,SX1302_REG_COMMON_BASE_ADDR+6,0,0,8,1,6}, // COMMON_VERSION_VERSION
    {0,SX1302_REG_COMMON_BASE_ADDR+7,0,0,1,0,0}, // COMMON_DUMMY_DUMMY
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+0,3,0,1,0,0}, // AGC_MCU_CTRL_FORCE_HOST_FE_CTRL
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+0,2,0,1,0,0}, // AGC_MCU_CTRL_MCU_CLEAR
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+0,1,0,1,0,0}, // AGC_MCU_CTRL_HOST_PROG
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+1,1,0,1,1,0}, // AGC_MCU_MCU_AGC_STATUS_PARITY_ERROR
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+1,0,0,1,1,0}, // AGC_MCU_MCU_AGC_STATUS_MCU_AGC_STATUS
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+2,2,0,2,0,0}, // AGC_MCU_PA_GAIN_PA_B_GAIN
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+2,0,0,2,0,0}, // AGC_MCU_PA_GAIN_PA_A_GAIN
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+3,3,0,1,0,0}, // AGC_MCU_RF_EN_A_RADIO_RST
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+3,2,0,1,0,0}, // AGC_MCU_RF_EN_A_RADIO_EN
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+3,1,0,1,0,0}, // AGC_MCU_RF_EN_A_PA_EN
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+3,0,0,1,0,0}, // AGC_MCU_RF_EN_A_LNA_EN
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+4,3,0,1,0,0}, // AGC_MCU_RF_EN_B_RADIO_RST
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+4,2,0,1,0,0}, // AGC_MCU_RF_EN_B_RADIO_EN
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+4,1,0,1,0,0}, // AGC_MCU_RF_EN_B_PA_EN
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+4,0,0,1,0,0}, // AGC_MCU_RF_EN_B_LNA_EN
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+5,4,0,4,0,0}, // AGC_MCU_LUT_TABLE_A_PA_LUT
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+5,0,0,4,0,0}, // AGC_MCU_LUT_TABLE_A_LNA_LUT
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+6,4,0,4,0,0}, // AGC_MCU_LUT_TABLE_B_PA_LUT
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+6,0,0,4,0,0}, // AGC_MCU_LUT_TABLE_B_LNA_LUT
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+7,5,0,1,0,0}, // AGC_MCU_UART_CFG_MSBF
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+7,4,0,1,0,0}, // AGC_MCU_UART_CFG_PAR_EN
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+7,3,0,1,0,0}, // AGC_MCU_UART_CFG_PAR_MODE
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+7,2,0,1,0,0}, // AGC_MCU_UART_CFG_START_LEN
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+7,1,0,1,0,0}, // AGC_MCU_UART_CFG_STOP_LEN
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+7,0,0,1,0,1}, // AGC_MCU_UART_CFG_WORD_LEN
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+8,0,0,8,0,0}, // AGC_MCU_MCU_MAIL_BOX_WR_DATA_BYTE3_MCU_MAIL_BOX_WR_DATA
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+9,0,0,8,0,0}, // AGC_MCU_MCU_MAIL_BOX_WR_DATA_BYTE2_MCU_MAIL_BOX_WR_DATA
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+10,0,0,8,0,0}, // AGC_MCU_MCU_MAIL_BOX_WR_DATA_BYTE1_MCU_MAIL_BOX_WR_DATA
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+11,0,0,8,0,0}, // AGC_MCU_MCU_MAIL_BOX_WR_DATA_BYTE0_MCU_MAIL_BOX_WR_DATA
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+12,0,0,8,1,0}, // AGC_MCU_MCU_MAIL_BOX_RD_DATA_BYTE3_MCU_MAIL_BOX_RD_DATA
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+13,0,0,8,1,0}, // AGC_MCU_MCU_MAIL_BOX_RD_DATA_BYTE2_MCU_MAIL_BOX_RD_DATA
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+14,0,0,8,1,0}, // AGC_MCU_MCU_MAIL_BOX_RD_DATA_BYTE1_MCU_MAIL_BOX_RD_DATA
    {0,SX1302_REG_AGC_MCU_BASE_ADDR+15,0,0,8,1,0}, // AGC_MCU_MCU_MAIL_BOX_RD_DATA_BYTE0_MCU_MAIL_BOX_RD_DATA
    {0,SX1302_REG_CLK_CTRL_BASE_ADDR+0,2,0,1,0,0}, // CLK_CTRL_CLK_SEL_CLKDIV_EN
    {0,SX1302_REG_CLK_CTRL_BASE_ADDR+0,1,0,1,0,0}, // CLK_CTRL_CLK_SEL_CLK_RADIO_B_SEL
    {0,SX1302_REG_CLK_CTRL_BASE_ADDR+0,0,0,1,0,0}, // CLK_CTRL_CLK_SEL_CLK_RADIO_A_SEL
    {0,SX1302_REG_CLK_CTRL_BASE_ADDR+1,3,0,1,0,0}, // CLK_CTRL_DUMMY_DUMMY
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+0,3,0,1,0,0}, // TX_TOP_A_TX_TRIG_TX_FSM_CLR
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+0,2,0,1,0,0}, // TX_TOP_A_TX_TRIG_TX_TRIG_GPS
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+0,1,0,1,0,0}, // TX_TOP_A_TX_TRIG_TX_TRIG_DELAYED
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+0,0,0,1,0,0}, // TX_TOP_A_TX_TRIG_TX_TRIG_IMMEDIATE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+1,0,0,8,0,0}, // TX_TOP_A_TIMER_TRIG_BYTE3_TIMER_DELAYED_TRIG
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+2,0,0,8,0,0}, // TX_TOP_A_TIMER_TRIG_BYTE2_TIMER_DELAYED_TRIG
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+3,0,0,8,0,0}, // TX_TOP_A_TIMER_TRIG_BYTE1_TIMER_DELAYED_TRIG
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+4,0,0,8,0,0}, // TX_TOP_A_TIMER_TRIG_BYTE0_TIMER_DELAYED_TRIG
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+5,0,0,8,0,0}, // TX_TOP_A_TX_START_DELAY_MSB_TX_START_DELAY
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+6,0,0,8,0,15}, // TX_TOP_A_TX_START_DELAY_LSB_TX_START_DELAY
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+7,0,0,1,0,0}, // TX_TOP_A_TX_CTRL_WRITE_BUFFER
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+8,0,0,3,0,1}, // TX_TOP_A_TX_RAMP_DURATION_TX_RAMP_DURATION
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+9,5,0,1,0,0}, // TX_TOP_A_GEN_CFG_0_TX_RADIO_SEL
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+9,4,0,1,0,0}, // TX_TOP_A_GEN_CFG_0_MODULATION_TYPE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+9,0,0,4,0,0}, // TX_TOP_A_GEN_CFG_0_TX_POWER
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+10,5,0,3,0,0}, // TX_TOP_A_TX_RFFE_IF_CTRL_PLL_DIV_CTRL
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+10,4,0,1,0,1}, // TX_TOP_A_TX_RFFE_IF_CTRL_TX_CLK_EDGE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+10,3,0,1,0,1}, // TX_TOP_A_TX_RFFE_IF_CTRL_TX_MODE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+10,2,0,1,0,0}, // TX_TOP_A_TX_RFFE_IF_CTRL_TX_IF_DST
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+10,0,0,2,0,0}, // TX_TOP_A_TX_RFFE_IF_CTRL_TX_IF_SRC
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+11,0,0,2,0,0}, // TX_TOP_A_TX_RFFE_IF_IQ_GAIN_IQ_GAIN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+12,0,0,8,0,0}, // TX_TOP_A_TX_RFFE_IF_IQ_OFFSET_IQ_OFFSET
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+13,0,0,8,0,108}, // TX_TOP_A_TX_RFFE_IF_FREQ_RF_H_FREQ_RF
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+14,0,0,8,0,144}, // TX_TOP_A_TX_RFFE_IF_FREQ_RF_M_FREQ_RF
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+15,0,0,8,0,0}, // TX_TOP_A_TX_RFFE_IF_FREQ_RF_L_FREQ_RF
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+16,0,0,4,0,0}, // TX_TOP_A_TX_RFFE_IF_FREQ_DEV_H_FREQ_DEV
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+17,0,0,8,0,0}, // TX_TOP_A_TX_RFFE_IF_FREQ_DEV_L_FREQ_DEV
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+18,0,0,8,0,64}, // TX_TOP_A_TX_RFFE_IF_TEST_MOD_FREQ
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+19,0,0,8,0,15}, // TX_TOP_A_FSK_PKT_LEN_PKT_LENGTH
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+20,5,0,1,0,0}, // TX_TOP_A_FSK_CFG_0_TX_CONT
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+20,4,0,1,0,0}, // TX_TOP_A_FSK_CFG_0_CRC_IBM
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+20,2,0,2,0,0}, // TX_TOP_A_FSK_CFG_0_DCFREE_ENC
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+20,1,0,1,0,1}, // TX_TOP_A_FSK_CFG_0_CRC_EN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+20,0,0,1,0,0}, // TX_TOP_A_FSK_CFG_0_PKT_MODE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+21,0,0,8,0,0}, // TX_TOP_A_FSK_PREAMBLE_SIZE_MSB_PREAMBLE_SIZE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+22,0,0,8,0,20}, // TX_TOP_A_FSK_PREAMBLE_SIZE_LSB_PREAMBLE_SIZE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+23,0,0,8,0,26}, // TX_TOP_A_FSK_BIT_RATE_MSB_BIT_RATE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+24,0,0,8,0,11}, // TX_TOP_A_FSK_BIT_RATE_LSB_BIT_RATE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+25,5,0,3,0,3}, // TX_TOP_A_FSK_MOD_FSK_REF_PATTERN_SIZE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+25,4,0,1,0,0}, // TX_TOP_A_FSK_MOD_FSK_PREAMBLE_SEQ
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+25,3,0,1,0,1}, // TX_TOP_A_FSK_MOD_FSK_REF_PATTERN_EN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+25,1,0,2,0,0}, // TX_TOP_A_FSK_MOD_FSK_GAUSSIAN_SELECT_BT
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+25,0,0,1,0,0}, // TX_TOP_A_FSK_MOD_FSK_GAUSSIAN_EN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+26,0,0,8,0,151}, // TX_TOP_A_FSK_REF_PATTERN_BYTE7_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+27,0,0,8,0,35}, // TX_TOP_A_FSK_REF_PATTERN_BYTE6_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+28,0,0,8,0,82}, // TX_TOP_A_FSK_REF_PATTERN_BYTE5_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+29,0,0,8,0,37}, // TX_TOP_A_FSK_REF_PATTERN_BYTE4_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+30,0,0,8,0,86}, // TX_TOP_A_FSK_REF_PATTERN_BYTE3_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+31,0,0,8,0,83}, // TX_TOP_A_FSK_REF_PATTERN_BYTE2_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+32,0,0,8,0,101}, // TX_TOP_A_FSK_REF_PATTERN_BYTE1_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+33,0,0,8,0,100}, // TX_TOP_A_FSK_REF_PATTERN_BYTE0_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+34,0,0,8,1,0}, // TX_TOP_A_TX_FSM_STATUS_TX_STATUS
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+35,0,0,1,0,0}, // TX_TOP_A_TX_FLAG_PKT_DONE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+36,4,0,4,0,5}, // TX_TOP_A_TXRX_CFG0_0_MODEM_BW
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+36,0,0,4,0,7}, // TX_TOP_A_TXRX_CFG0_0_MODEM_SF
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+37,6,0,2,0,2}, // TX_TOP_A_TXRX_CFG0_1_PPM_OFFSET_HDR_CTRL
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+37,4,0,2,0,0}, // TX_TOP_A_TXRX_CFG0_1_PPM_OFFSET
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+37,3,0,1,0,0}, // TX_TOP_A_TXRX_CFG0_1_POST_PREAMBLE_GAP_LONG
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+37,0,0,3,0,2}, // TX_TOP_A_TXRX_CFG0_1_CODING_RATE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+38,7,0,1,0,0}, // TX_TOP_A_TXRX_CFG0_2_FINE_SYNCH_EN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+38,6,0,1,0,0}, // TX_TOP_A_TXRX_CFG0_2_MODEM_EN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+38,4,0,2,0,2}, // TX_TOP_A_TXRX_CFG0_2_CADRXTX
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+38,1,0,1,0,0}, // TX_TOP_A_TXRX_CFG0_2_IMPLICIT_HEADER
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+38,0,0,1,0,1}, // TX_TOP_A_TXRX_CFG0_2_CRC_EN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+39,0,0,8,0,12}, // TX_TOP_A_TXRX_CFG0_3_PAYLOAD_LENGTH
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+40,7,0,1,0,0}, // TX_TOP_A_TXRX_CFG1_0_INT_STEP_ORIDE_EN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+40,0,0,6,0,0}, // TX_TOP_A_TXRX_CFG1_0_INT_STEP_ORIDE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+41,7,0,1,0,0}, // TX_TOP_A_TXRX_CFG1_1_MODEM_START
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+41,6,0,1,0,0}, // TX_TOP_A_TXRX_CFG1_1_HEADER_DIFF_MODE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+41,0,0,6,0,0}, // TX_TOP_A_TXRX_CFG1_1_ZERO_PAD
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+42,0,0,8,0,8}, // TX_TOP_A_TXRX_CFG1_2_PREAMBLE_SYMB_NB
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+43,0,0,8,0,0}, // TX_TOP_A_TXRX_CFG1_3_PREAMBLE_SYMB_NB
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+44,6,0,1,0,1}, // TX_TOP_A_TXRX_CFG1_4_AUTO_ACK_INT_DELAY
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+44,5,0,1,0,0}, // TX_TOP_A_TXRX_CFG1_4_AUTO_ACK_RX
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+44,4,0,1,0,0}, // TX_TOP_A_TXRX_CFG1_4_AUTO_ACK_TX
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+45,4,0,3,0,0}, // TX_TOP_A_TX_CFG0_0_CHIRP_LOWPASS
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+45,3,0,1,0,0}, // TX_TOP_A_TX_CFG0_0_PPM_OFFSET_SIG
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+45,2,0,1,0,1}, // TX_TOP_A_TX_CFG0_0_CONTCHIRP
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+45,1,0,1,0,1}, // TX_TOP_A_TX_CFG0_0_CHIRP_INVERT
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+45,0,0,1,0,0}, // TX_TOP_A_TX_CFG0_0_CONTINUOUS
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+46,0,0,6,0,20}, // TX_TOP_A_TX_CFG0_1_POWER_RANGING
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+47,0,0,8,0,0}, // TX_TOP_A_TX_CFG1_0_FRAME_NB
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+48,5,0,2,0,0}, // TX_TOP_A_TX_CFG1_1_HOP_CTRL
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+48,0,0,5,0,10}, // TX_TOP_A_TX_CFG1_1_IFS
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+49,7,0,1,0,1}, // TX_TOP_A_FRAME_SYNCH_0_AUTO_SCALE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+49,6,0,1,0,0}, // TX_TOP_A_FRAME_SYNCH_0_DROP_ON_SYNCH
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+49,5,0,1,0,1}, // TX_TOP_A_FRAME_SYNCH_0_GAIN
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+49,0,1,5,0,2}, // TX_TOP_A_FRAME_SYNCH_0_PEAK1_POS
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+50,7,0,1,0,0}, // TX_TOP_A_FRAME_SYNCH_1_FINETIME_ON_LAST
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+50,5,0,2,0,3}, // TX_TOP_A_FRAME_SYNCH_1_TIMEOUT_OPT
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+50,0,1,5,0,4}, // TX_TOP_A_FRAME_SYNCH_1_PEAK2_POS
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+51,0,0,4,1,0}, // TX_TOP_A_LORA_TX_STATE_STATUS
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+52,2,0,1,0,0}, // TX_TOP_A_LORA_TX_FLAG_FRAME_DONE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+52,1,0,1,0,0}, // TX_TOP_A_LORA_TX_FLAG_CONT_DONE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+52,0,0,1,0,0}, // TX_TOP_A_LORA_TX_FLAG_PLD_DONE
    {0,SX1302_REG_TX_TOP_A_BASE_ADDR+53,3,0,1,0,0}, // TX_TOP_A_DUMMY_DUMMY
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+0,3,0,1,0,0}, // TX_TOP_B_TX_TRIG_TX_FSM_CLR
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+0,2,0,1,0,0}, // TX_TOP_B_TX_TRIG_TX_TRIG_GPS
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+0,1,0,1,0,0}, // TX_TOP_B_TX_TRIG_TX_TRIG_DELAYED
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+0,0,0,1,0,0}, // TX_TOP_B_TX_TRIG_TX_TRIG_IMMEDIATE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+1,0,0,8,0,0}, // TX_TOP_B_TIMER_TRIG_BYTE3_TIMER_DELAYED_TRIG
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+2,0,0,8,0,0}, // TX_TOP_B_TIMER_TRIG_BYTE2_TIMER_DELAYED_TRIG
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+3,0,0,8,0,0}, // TX_TOP_B_TIMER_TRIG_BYTE1_TIMER_DELAYED_TRIG
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+4,0,0,8,0,0}, // TX_TOP_B_TIMER_TRIG_BYTE0_TIMER_DELAYED_TRIG
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+5,0,0,8,0,0}, // TX_TOP_B_TX_START_DELAY_MSB_TX_START_DELAY
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+6,0,0,8,0,15}, // TX_TOP_B_TX_START_DELAY_LSB_TX_START_DELAY
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+7,0,0,1,0,0}, // TX_TOP_B_TX_CTRL_WRITE_BUFFER
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+8,0,0,3,0,1}, // TX_TOP_B_TX_RAMP_DURATION_TX_RAMP_DURATION
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+9,5,0,1,0,0}, // TX_TOP_B_GEN_CFG_0_TX_RADIO_SEL
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+9,4,0,1,0,0}, // TX_TOP_B_GEN_CFG_0_MODULATION_TYPE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+9,0,0,4,0,0}, // TX_TOP_B_GEN_CFG_0_TX_POWER
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+10,5,0,3,0,0}, // TX_TOP_B_TX_RFFE_IF_CTRL_PLL_DIV_CTRL
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+10,4,0,1,0,1}, // TX_TOP_B_TX_RFFE_IF_CTRL_TX_CLK_EDGE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+10,3,0,1,0,1}, // TX_TOP_B_TX_RFFE_IF_CTRL_TX_MODE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+10,2,0,1,0,0}, // TX_TOP_B_TX_RFFE_IF_CTRL_TX_IF_DST
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+10,0,0,2,0,0}, // TX_TOP_B_TX_RFFE_IF_CTRL_TX_IF_SRC
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+11,0,0,2,0,0}, // TX_TOP_B_TX_RFFE_IF_IQ_GAIN_IQ_GAIN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+12,0,0,8,0,0}, // TX_TOP_B_TX_RFFE_IF_IQ_OFFSET_IQ_OFFSET
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+13,0,0,8,0,108}, // TX_TOP_B_TX_RFFE_IF_FREQ_RF_H_FREQ_RF
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+14,0,0,8,0,144}, // TX_TOP_B_TX_RFFE_IF_FREQ_RF_M_FREQ_RF
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+15,0,0,8,0,0}, // TX_TOP_B_TX_RFFE_IF_FREQ_RF_L_FREQ_RF
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+16,0,0,4,0,0}, // TX_TOP_B_TX_RFFE_IF_FREQ_DEV_H_FREQ_DEV
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+17,0,0,8,0,0}, // TX_TOP_B_TX_RFFE_IF_FREQ_DEV_L_FREQ_DEV
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+18,0,0,8,0,64}, // TX_TOP_B_TX_RFFE_IF_TEST_MOD_FREQ
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+19,0,0,8,0,15}, // TX_TOP_B_FSK_PKT_LEN_PKT_LENGTH
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+20,5,0,1,0,0}, // TX_TOP_B_FSK_CFG_0_TX_CONT
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+20,4,0,1,0,0}, // TX_TOP_B_FSK_CFG_0_CRC_IBM
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+20,2,0,2,0,0}, // TX_TOP_B_FSK_CFG_0_DCFREE_ENC
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+20,1,0,1,0,1}, // TX_TOP_B_FSK_CFG_0_CRC_EN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+20,0,0,1,0,0}, // TX_TOP_B_FSK_CFG_0_PKT_MODE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+21,0,0,8,0,0}, // TX_TOP_B_FSK_PREAMBLE_SIZE_MSB_PREAMBLE_SIZE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+22,0,0,8,0,20}, // TX_TOP_B_FSK_PREAMBLE_SIZE_LSB_PREAMBLE_SIZE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+23,0,0,8,0,26}, // TX_TOP_B_FSK_BIT_RATE_MSB_BIT_RATE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+24,0,0,8,0,11}, // TX_TOP_B_FSK_BIT_RATE_LSB_BIT_RATE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+25,5,0,3,0,3}, // TX_TOP_B_FSK_MOD_FSK_REF_PATTERN_SIZE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+25,4,0,1,0,0}, // TX_TOP_B_FSK_MOD_FSK_PREAMBLE_SEQ
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+25,3,0,1,0,1}, // TX_TOP_B_FSK_MOD_FSK_REF_PATTERN_EN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+25,1,0,2,0,0}, // TX_TOP_B_FSK_MOD_FSK_GAUSSIAN_SELECT_BT
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+25,0,0,1,0,0}, // TX_TOP_B_FSK_MOD_FSK_GAUSSIAN_EN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+26,0,0,8,0,151}, // TX_TOP_B_FSK_REF_PATTERN_BYTE7_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+27,0,0,8,0,35}, // TX_TOP_B_FSK_REF_PATTERN_BYTE6_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+28,0,0,8,0,82}, // TX_TOP_B_FSK_REF_PATTERN_BYTE5_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+29,0,0,8,0,37}, // TX_TOP_B_FSK_REF_PATTERN_BYTE4_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+30,0,0,8,0,86}, // TX_TOP_B_FSK_REF_PATTERN_BYTE3_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+31,0,0,8,0,83}, // TX_TOP_B_FSK_REF_PATTERN_BYTE2_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+32,0,0,8,0,101}, // TX_TOP_B_FSK_REF_PATTERN_BYTE1_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+33,0,0,8,0,100}, // TX_TOP_B_FSK_REF_PATTERN_BYTE0_FSK_REF_PATTERN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+34,0,0,8,1,0}, // TX_TOP_B_TX_FSM_STATUS_TX_STATUS
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+35,0,0,1,0,0}, // TX_TOP_B_TX_FLAG_PKT_DONE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+36,4,0,4,0,5}, // TX_TOP_B_TXRX_CFG0_0_MODEM_BW
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+36,0,0,4,0,7}, // TX_TOP_B_TXRX_CFG0_0_MODEM_SF
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+37,6,0,2,0,2}, // TX_TOP_B_TXRX_CFG0_1_PPM_OFFSET_HDR_CTRL
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+37,4,0,2,0,0}, // TX_TOP_B_TXRX_CFG0_1_PPM_OFFSET
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+37,3,0,1,0,0}, // TX_TOP_B_TXRX_CFG0_1_POST_PREAMBLE_GAP_LONG
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+37,0,0,3,0,2}, // TX_TOP_B_TXRX_CFG0_1_CODING_RATE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+38,7,0,1,0,0}, // TX_TOP_B_TXRX_CFG0_2_FINE_SYNCH_EN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+38,6,0,1,0,0}, // TX_TOP_B_TXRX_CFG0_2_MODEM_EN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+38,4,0,2,0,2}, // TX_TOP_B_TXRX_CFG0_2_CADRXTX
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+38,1,0,1,0,0}, // TX_TOP_B_TXRX_CFG0_2_IMPLICIT_HEADER
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+38,0,0,1,0,1}, // TX_TOP_B_TXRX_CFG0_2_CRC_EN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+39,0,0,8,0,12}, // TX_TOP_B_TXRX_CFG0_3_PAYLOAD_LENGTH
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+40,7,0,1,0,0}, // TX_TOP_B_TXRX_CFG1_0_INT_STEP_ORIDE_EN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+40,0,0,6,0,0}, // TX_TOP_B_TXRX_CFG1_0_INT_STEP_ORIDE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+41,7,0,1,0,0}, // TX_TOP_B_TXRX_CFG1_1_MODEM_START
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+41,6,0,1,0,0}, // TX_TOP_B_TXRX_CFG1_1_HEADER_DIFF_MODE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+41,0,0,6,0,0}, // TX_TOP_B_TXRX_CFG1_1_ZERO_PAD
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+42,0,0,8,0,8}, // TX_TOP_B_TXRX_CFG1_2_PREAMBLE_SYMB_NB
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+43,0,0,8,0,0}, // TX_TOP_B_TXRX_CFG1_3_PREAMBLE_SYMB_NB
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+44,6,0,1,0,1}, // TX_TOP_B_TXRX_CFG1_4_AUTO_ACK_INT_DELAY
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+44,5,0,1,0,0}, // TX_TOP_B_TXRX_CFG1_4_AUTO_ACK_RX
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+44,4,0,1,0,0}, // TX_TOP_B_TXRX_CFG1_4_AUTO_ACK_TX
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+45,4,0,3,0,0}, // TX_TOP_B_TX_CFG0_0_CHIRP_LOWPASS
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+45,3,0,1,0,0}, // TX_TOP_B_TX_CFG0_0_PPM_OFFSET_SIG
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+45,2,0,1,0,1}, // TX_TOP_B_TX_CFG0_0_CONTCHIRP
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+45,1,0,1,0,1}, // TX_TOP_B_TX_CFG0_0_CHIRP_INVERT
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+45,0,0,1,0,0}, // TX_TOP_B_TX_CFG0_0_CONTINUOUS
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+46,0,0,6,0,20}, // TX_TOP_B_TX_CFG0_1_POWER_RANGING
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+47,0,0,8,0,0}, // TX_TOP_B_TX_CFG1_0_FRAME_NB
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+48,5,0,2,0,0}, // TX_TOP_B_TX_CFG1_1_HOP_CTRL
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+48,0,0,5,0,10}, // TX_TOP_B_TX_CFG1_1_IFS
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+49,7,0,1,0,1}, // TX_TOP_B_FRAME_SYNCH_0_AUTO_SCALE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+49,6,0,1,0,0}, // TX_TOP_B_FRAME_SYNCH_0_DROP_ON_SYNCH
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+49,5,0,1,0,1}, // TX_TOP_B_FRAME_SYNCH_0_GAIN
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+49,0,1,5,0,2}, // TX_TOP_B_FRAME_SYNCH_0_PEAK1_POS
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+50,7,0,1,0,0}, // TX_TOP_B_FRAME_SYNCH_1_FINETIME_ON_LAST
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+50,5,0,2,0,3}, // TX_TOP_B_FRAME_SYNCH_1_TIMEOUT_OPT
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+50,0,1,5,0,4}, // TX_TOP_B_FRAME_SYNCH_1_PEAK2_POS
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+51,0,0,4,1,0}, // TX_TOP_B_LORA_TX_STATE_STATUS
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+52,2,0,1,0,0}, // TX_TOP_B_LORA_TX_FLAG_FRAME_DONE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+52,1,0,1,0,0}, // TX_TOP_B_LORA_TX_FLAG_CONT_DONE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+52,0,0,1,0,0}, // TX_TOP_B_LORA_TX_FLAG_PLD_DONE
    {0,SX1302_REG_TX_TOP_B_BASE_ADDR+53,3,0,1,0,0}, // TX_TOP_B_DUMMY_DUMMY
    {0,SX1302_REG_GPIO_BASE_ADDR+0,0,0,8,0,0}, // GPIO_GPIO_DIR_DIRECTION
    {0,SX1302_REG_GPIO_BASE_ADDR+1,0,0,8,0,0}, // GPIO_GPIO_OUT_OUT_VALUE
    {0,SX1302_REG_GPIO_BASE_ADDR+2,0,0,8,1,0}, // GPIO_GPIO_IN_IN_VALUE
    {0,SX1302_REG_GPIO_BASE_ADDR+3,0,0,4,0,0}, // GPIO_GPIO_SEL_0_SELECTION
    {0,SX1302_REG_GPIO_BASE_ADDR+4,0,0,4,0,0}, // GPIO_GPIO_SEL_1_SELECTION
    {0,SX1302_REG_GPIO_BASE_ADDR+5,0,0,4,0,0}, // GPIO_GPIO_SEL_2_SELECTION
    {0,SX1302_REG_GPIO_BASE_ADDR+6,0,0,4,0,0}, // GPIO_GPIO_SEL_3_SELECTION
    {0,SX1302_REG_GPIO_BASE_ADDR+7,0,0,4,0,0}, // GPIO_GPIO_SEL_4_SELECTION
    {0,SX1302_REG_GPIO_BASE_ADDR+8,0,0,4,0,0}, // GPIO_GPIO_SEL_5_SELECTION
    {0,SX1302_REG_GPIO_BASE_ADDR+9,0,0,4,0,0}, // GPIO_GPIO_SEL_6_SELECTION
    {0,SX1302_REG_GPIO_BASE_ADDR+10,0,0,4,0,0}, // GPIO_GPIO_SEL_7_SELECTION
    {0,SX1302_REG_TIMESTAMP_BASE_ADDR+0,1,0,1,0,0}, // TIMESTAMP_GPS_CTRL_GPS_POL
    {0,SX1302_REG_TIMESTAMP_BASE_ADDR+0,0,0,1,0,0}, // TIMESTAMP_GPS_CTRL_GPS_EN
    {0,SX1302_REG_TIMESTAMP_BASE_ADDR+1,0,0,8,1,0}, // TIMESTAMP_TIMESTAMP_PPS_MSB2_TIMESTAMP_PPS
    {0,SX1302_REG_TIMESTAMP_BASE_ADDR+2,0,0,8,1,0}, // TIMESTAMP_TIMESTAMP_PPS_MSB1_TIMESTAMP_PPS
    {0,SX1302_REG_TIMESTAMP_BASE_ADDR+3,0,0,8,1,0}, // TIMESTAMP_TIMESTAMP_PPS_LSB2_TIMESTAMP_PPS
    {0,SX1302_REG_TIMESTAMP_BASE_ADDR+4,0,0,8,1,0}, // TIMESTAMP_TIMESTAMP_PPS_LSB1_TIMESTAMP_PPS
    {0,SX1302_REG_TIMESTAMP_BASE_ADDR+5,0,0,8,1,0}, // TIMESTAMP_TIMESTAMP_MSB2_TIMESTAMP
    {0,SX1302_REG_TIMESTAMP_BASE_ADDR+6,0,0,8,1,0}, // TIMESTAMP_TIMESTAMP_MSB1_TIMESTAMP
    {0,SX1302_REG_TIMESTAMP_BASE_ADDR+7,0,0,8,1,0}, // TIMESTAMP_TIMESTAMP_LSB2_TIMESTAMP
    {0,SX1302_REG_TIMESTAMP_BASE_ADDR+8,0,0,8,1,0}, // TIMESTAMP_TIMESTAMP_LSB1_TIMESTAMP
    {0,SX1302_REG_RX_TOP_BASE_ADDR+0,0,0,5,0,0}, // RX_TOP_FREQ_0_MSB_IF_FREQ_0
    {0,SX1302_REG_RX_TOP_BASE_ADDR+1,0,0,8,0,128}, // RX_TOP_FREQ_0_LSB_IF_FREQ_0
    {0,SX1302_REG_RX_TOP_BASE_ADDR+2,0,0,5,0,1}, // RX_TOP_FREQ_1_MSB_IF_FREQ_1
    {0,SX1302_REG_RX_TOP_BASE_ADDR+3,0,0,8,0,128}, // RX_TOP_FREQ_1_LSB_IF_FREQ_1
    {0,SX1302_REG_RX_TOP_BASE_ADDR+4,0,0,5,0,30}, // RX_TOP_FREQ_2_MSB_IF_FREQ_2
    {0,SX1302_REG_RX_TOP_BASE_ADDR+5,0,0,8,0,128}, // RX_TOP_FREQ_2_LSB_IF_FREQ_2
    {0,SX1302_REG_RX_TOP_BASE_ADDR+6,0,0,5,0,0}, // RX_TOP_FREQ_3_MSB_IF_FREQ_3
    {0,SX1302_REG_RX_TOP_BASE_ADDR+7,0,0,8,0,128}, // RX_TOP_FREQ_3_LSB_IF_FREQ_3
    {0,SX1302_REG_RX_TOP_BASE_ADDR+8,0,0,5,0,0}, // RX_TOP_FREQ_4_MSB_IF_FREQ_4
    {0,SX1302_REG_RX_TOP_BASE_ADDR+9,0,0,8,0,50}, // RX_TOP_FREQ_4_LSB_IF_FREQ_4
    {0,SX1302_REG_RX_TOP_BASE_ADDR+10,0,0,5,0,0}, // RX_TOP_FREQ_5_MSB_IF_FREQ_5
    {0,SX1302_REG_RX_TOP_BASE_ADDR+11,0,0,8,0,60}, // RX_TOP_FREQ_5_LSB_IF_FREQ_5
    {0,SX1302_REG_RX_TOP_BASE_ADDR+12,0,0,5,0,0}, // RX_TOP_FREQ_6_MSB_IF_FREQ_6
    {0,SX1302_REG_RX_TOP_BASE_ADDR+13,0,0,8,0,70}, // RX_TOP_FREQ_6_LSB_IF_FREQ_6
    {0,SX1302_REG_RX_TOP_BASE_ADDR+14,0,0,5,0,0}, // RX_TOP_FREQ_7_MSB_IF_FREQ_7
    {0,SX1302_REG_RX_TOP_BASE_ADDR+15,0,0,8,0,80}, // RX_TOP_FREQ_7_LSB_IF_FREQ_7
    {0,SX1302_REG_RX_TOP_BASE_ADDR+16,0,0,8,0,0}, // RX_TOP_RADIO_SELECT_RADIO_SELECT
    {0,SX1302_REG_RX_TOP_BASE_ADDR+17,3,0,5,0,0}, // RX_TOP_RSSI_CONTROL_RSSI_FILTER_ALPHA
    {0,SX1302_REG_RX_TOP_BASE_ADDR+17,0,0,3,0,0}, // RX_TOP_RSSI_CONTROL_SELECT_RSSI
    {0,SX1302_REG_RX_TOP_BASE_ADDR+18,0,0,8,0,0}, // RX_TOP_RSSI_DEF_VALUE_CHAN_RSSI_DEF_VALUE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+19,0,0,8,1,0}, // RX_TOP_RSSI_VALUE_CHAN_RSSI
    {0,SX1302_REG_RX_TOP_BASE_ADDR+20,4,0,1,0,0}, // RX_TOP_GAIN_CONTROL_CHAN_GAIN_VALID
    {0,SX1302_REG_RX_TOP_BASE_ADDR+20,0,0,4,0,0}, // RX_TOP_GAIN_CONTROL_CHAN_GAIN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+21,0,0,1,0,0}, // RX_TOP_CORRELATOR_EN_CORR_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+22,0,0,8,0,255}, // RX_TOP_CORRELATOR_SF_EN_CORR_SF_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+23,0,0,8,0,255}, // RX_TOP_CORRELATOR_ENABLE_ONLY_FIRST_DET_EDGE_ENABLE_ONLY_FIRST_DET_EDGE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+24,5,0,1,0,1}, // RX_TOP_SF5_CFG1_ACC_PEAK_SUM_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+24,4,0,1,0,1}, // RX_TOP_SF5_CFG1_ACC_PEAK_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+24,2,0,2,0,2}, // RX_TOP_SF5_CFG1_ACC_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+24,1,0,1,0,1}, // RX_TOP_SF5_CFG1_ACC_AUTO_RESCALE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+24,0,0,1,0,1}, // RX_TOP_SF5_CFG1_ACC_2_SAME_PEAKS
    {0,SX1302_REG_RX_TOP_BASE_ADDR+25,0,0,7,0,55}, // RX_TOP_SF5_CFG2_ACC_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+26,0,0,8,0,11}, // RX_TOP_SF5_CFG3_MIN_SINGLE_PEAK
    {0,SX1302_REG_RX_TOP_BASE_ADDR+27,0,0,7,0,32}, // RX_TOP_SF5_CFG4_MSP_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+28,0,0,7,0,48}, // RX_TOP_SF5_CFG5_MSP2_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+29,3,0,3,0,5}, // RX_TOP_SF5_CFG6_MSP_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+29,1,0,2,0,1}, // RX_TOP_SF5_CFG6_MSP_CNT_MODE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+29,0,0,1,0,1}, // RX_TOP_SF5_CFG6_MSP_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+30,2,0,3,0,5}, // RX_TOP_SF5_CFG7_MSP2_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+30,0,0,2,0,2}, // RX_TOP_SF5_CFG7_NOISE_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+31,5,0,1,0,1}, // RX_TOP_SF6_CFG1_ACC_PEAK_SUM_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+31,4,0,1,0,1}, // RX_TOP_SF6_CFG1_ACC_PEAK_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+31,2,0,2,0,2}, // RX_TOP_SF6_CFG1_ACC_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+31,1,0,1,0,1}, // RX_TOP_SF6_CFG1_ACC_AUTO_RESCALE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+31,0,0,1,0,1}, // RX_TOP_SF6_CFG1_ACC_2_SAME_PEAKS
    {0,SX1302_REG_RX_TOP_BASE_ADDR+32,0,0,7,0,55}, // RX_TOP_SF6_CFG2_ACC_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+33,0,0,8,0,11}, // RX_TOP_SF6_CFG3_MIN_SINGLE_PEAK
    {0,SX1302_REG_RX_TOP_BASE_ADDR+34,0,0,7,0,32}, // RX_TOP_SF6_CFG4_MSP_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+35,0,0,7,0,48}, // RX_TOP_SF6_CFG5_MSP2_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+36,3,0,3,0,4}, // RX_TOP_SF6_CFG6_MSP_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+36,1,0,2,0,1}, // RX_TOP_SF6_CFG6_MSP_CNT_MODE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+36,0,0,1,0,1}, // RX_TOP_SF6_CFG6_MSP_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+37,2,0,3,0,5}, // RX_TOP_SF6_CFG7_MSP2_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+37,0,0,2,0,2}, // RX_TOP_SF6_CFG7_NOISE_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+38,5,0,1,0,1}, // RX_TOP_SF7_CFG1_ACC_PEAK_SUM_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+38,4,0,1,0,1}, // RX_TOP_SF7_CFG1_ACC_PEAK_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+38,2,0,2,0,2}, // RX_TOP_SF7_CFG1_ACC_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+38,1,0,1,0,1}, // RX_TOP_SF7_CFG1_ACC_AUTO_RESCALE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+38,0,0,1,0,1}, // RX_TOP_SF7_CFG1_ACC_2_SAME_PEAKS
    {0,SX1302_REG_RX_TOP_BASE_ADDR+39,0,0,7,0,55}, // RX_TOP_SF7_CFG2_ACC_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+40,0,0,8,0,11}, // RX_TOP_SF7_CFG3_MIN_SINGLE_PEAK
    {0,SX1302_REG_RX_TOP_BASE_ADDR+41,0,0,7,0,32}, // RX_TOP_SF7_CFG4_MSP_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+42,0,0,7,0,48}, // RX_TOP_SF7_CFG5_MSP2_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+43,3,0,3,0,3}, // RX_TOP_SF7_CFG6_MSP_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+43,1,0,2,0,1}, // RX_TOP_SF7_CFG6_MSP_CNT_MODE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+43,0,0,1,0,1}, // RX_TOP_SF7_CFG6_MSP_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+44,2,0,3,0,5}, // RX_TOP_SF7_CFG7_MSP2_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+44,0,0,2,0,2}, // RX_TOP_SF7_CFG7_NOISE_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+45,5,0,1,0,1}, // RX_TOP_SF8_CFG1_ACC_PEAK_SUM_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+45,4,0,1,0,1}, // RX_TOP_SF8_CFG1_ACC_PEAK_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+45,2,0,2,0,2}, // RX_TOP_SF8_CFG1_ACC_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+45,1,0,1,0,1}, // RX_TOP_SF8_CFG1_ACC_AUTO_RESCALE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+45,0,0,1,0,1}, // RX_TOP_SF8_CFG1_ACC_2_SAME_PEAKS
    {0,SX1302_REG_RX_TOP_BASE_ADDR+46,0,0,7,0,56}, // RX_TOP_SF8_CFG2_ACC_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+47,0,0,8,0,11}, // RX_TOP_SF8_CFG3_MIN_SINGLE_PEAK
    {0,SX1302_REG_RX_TOP_BASE_ADDR+48,0,0,7,0,32}, // RX_TOP_SF8_CFG4_MSP_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+49,0,0,7,0,48}, // RX_TOP_SF8_CFG5_MSP2_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+50,3,0,3,0,3}, // RX_TOP_SF8_CFG6_MSP_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+50,1,0,2,0,1}, // RX_TOP_SF8_CFG6_MSP_CNT_MODE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+50,0,0,1,0,1}, // RX_TOP_SF8_CFG6_MSP_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+51,2,0,3,0,5}, // RX_TOP_SF8_CFG7_MSP2_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+51,0,0,2,0,2}, // RX_TOP_SF8_CFG7_NOISE_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+52,5,0,1,0,1}, // RX_TOP_SF9_CFG1_ACC_PEAK_SUM_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+52,4,0,1,0,1}, // RX_TOP_SF9_CFG1_ACC_PEAK_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+52,2,0,2,0,2}, // RX_TOP_SF9_CFG1_ACC_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+52,1,0,1,0,1}, // RX_TOP_SF9_CFG1_ACC_AUTO_RESCALE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+52,0,0,1,0,1}, // RX_TOP_SF9_CFG1_ACC_2_SAME_PEAKS
    {0,SX1302_REG_RX_TOP_BASE_ADDR+53,0,0,7,0,58}, // RX_TOP_SF9_CFG2_ACC_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+54,0,0,8,0,11}, // RX_TOP_SF9_CFG3_MIN_SINGLE_PEAK
    {0,SX1302_REG_RX_TOP_BASE_ADDR+55,0,0,7,0,32}, // RX_TOP_SF9_CFG4_MSP_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+56,0,0,7,0,48}, // RX_TOP_SF9_CFG5_MSP2_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+57,3,0,3,0,3}, // RX_TOP_SF9_CFG6_MSP_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+57,1,0,2,0,1}, // RX_TOP_SF9_CFG6_MSP_CNT_MODE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+57,0,0,1,0,1}, // RX_TOP_SF9_CFG6_MSP_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+58,2,0,3,0,5}, // RX_TOP_SF9_CFG7_MSP2_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+58,0,0,2,0,2}, // RX_TOP_SF9_CFG7_NOISE_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+59,5,0,1,0,1}, // RX_TOP_SF10_CFG1_ACC_PEAK_SUM_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+59,4,0,1,0,1}, // RX_TOP_SF10_CFG1_ACC_PEAK_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+59,2,0,2,0,2}, // RX_TOP_SF10_CFG1_ACC_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+59,1,0,1,0,1}, // RX_TOP_SF10_CFG1_ACC_AUTO_RESCALE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+59,0,0,1,0,1}, // RX_TOP_SF10_CFG1_ACC_2_SAME_PEAKS
    {0,SX1302_REG_RX_TOP_BASE_ADDR+60,0,0,7,0,60}, // RX_TOP_SF10_CFG2_ACC_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+61,0,0,8,0,11}, // RX_TOP_SF10_CFG3_MIN_SINGLE_PEAK
    {0,SX1302_REG_RX_TOP_BASE_ADDR+62,0,0,7,0,32}, // RX_TOP_SF10_CFG4_MSP_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+63,0,0,7,0,48}, // RX_TOP_SF10_CFG5_MSP2_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+64,3,0,3,0,3}, // RX_TOP_SF10_CFG6_MSP_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+64,1,0,2,0,1}, // RX_TOP_SF10_CFG6_MSP_CNT_MODE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+64,0,0,1,0,1}, // RX_TOP_SF10_CFG6_MSP_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+65,2,0,3,0,5}, // RX_TOP_SF10_CFG7_MSP2_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+65,0,0,2,0,2}, // RX_TOP_SF10_CFG7_NOISE_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+66,5,0,1,0,1}, // RX_TOP_SF11_CFG1_ACC_PEAK_SUM_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+66,4,0,1,0,1}, // RX_TOP_SF11_CFG1_ACC_PEAK_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+66,2,0,2,0,2}, // RX_TOP_SF11_CFG1_ACC_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+66,1,0,1,0,1}, // RX_TOP_SF11_CFG1_ACC_AUTO_RESCALE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+66,0,0,1,0,1}, // RX_TOP_SF11_CFG1_ACC_2_SAME_PEAKS
    {0,SX1302_REG_RX_TOP_BASE_ADDR+67,0,0,7,0,60}, // RX_TOP_SF11_CFG2_ACC_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+68,0,0,8,0,11}, // RX_TOP_SF11_CFG3_MIN_SINGLE_PEAK
    {0,SX1302_REG_RX_TOP_BASE_ADDR+69,0,0,7,0,32}, // RX_TOP_SF11_CFG4_MSP_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+70,0,0,7,0,48}, // RX_TOP_SF11_CFG5_MSP2_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+71,3,0,3,0,3}, // RX_TOP_SF11_CFG6_MSP_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+71,1,0,2,0,1}, // RX_TOP_SF11_CFG6_MSP_CNT_MODE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+71,0,0,1,0,1}, // RX_TOP_SF11_CFG6_MSP_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+72,2,0,3,0,5}, // RX_TOP_SF11_CFG7_MSP2_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+72,0,0,2,0,2}, // RX_TOP_SF11_CFG7_NOISE_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+73,5,0,1,0,1}, // RX_TOP_SF12_CFG1_ACC_PEAK_SUM_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+73,4,0,1,0,1}, // RX_TOP_SF12_CFG1_ACC_PEAK_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+73,2,0,2,0,2}, // RX_TOP_SF12_CFG1_ACC_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+73,1,0,1,0,1}, // RX_TOP_SF12_CFG1_ACC_AUTO_RESCALE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+73,0,0,1,0,1}, // RX_TOP_SF12_CFG1_ACC_2_SAME_PEAKS
    {0,SX1302_REG_RX_TOP_BASE_ADDR+74,0,0,7,0,60}, // RX_TOP_SF12_CFG2_ACC_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+75,0,0,8,0,11}, // RX_TOP_SF12_CFG3_MIN_SINGLE_PEAK
    {0,SX1302_REG_RX_TOP_BASE_ADDR+76,0,0,7,0,32}, // RX_TOP_SF12_CFG4_MSP_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+77,0,0,7,0,48}, // RX_TOP_SF12_CFG5_MSP2_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+78,3,0,3,0,3}, // RX_TOP_SF12_CFG6_MSP_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+78,1,0,2,0,1}, // RX_TOP_SF12_CFG6_MSP_CNT_MODE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+78,0,0,1,0,1}, // RX_TOP_SF12_CFG6_MSP_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+79,2,0,3,0,5}, // RX_TOP_SF12_CFG7_MSP2_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+79,0,0,2,0,2}, // RX_TOP_SF12_CFG7_NOISE_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+80,4,0,3,0,0}, // RX_TOP_DC_NOTCH_CFG1_BW_START
    {0,SX1302_REG_RX_TOP_BASE_ADDR+80,3,0,1,0,1}, // RX_TOP_DC_NOTCH_CFG1_AUTO_BW_RED
    {0,SX1302_REG_RX_TOP_BASE_ADDR+80,2,0,1,0,0}, // RX_TOP_DC_NOTCH_CFG1_NO_FAST_START
    {0,SX1302_REG_RX_TOP_BASE_ADDR+80,1,0,1,0,0}, // RX_TOP_DC_NOTCH_CFG1_BYPASS
    {0,SX1302_REG_RX_TOP_BASE_ADDR+80,0,0,1,0,0}, // RX_TOP_DC_NOTCH_CFG1_ENABLE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+81,3,0,3,0,1}, // RX_TOP_DC_NOTCH_CFG2_BW_LOCKED
    {0,SX1302_REG_RX_TOP_BASE_ADDR+81,0,0,3,0,5}, // RX_TOP_DC_NOTCH_CFG2_BW
    {0,SX1302_REG_RX_TOP_BASE_ADDR+82,0,0,3,0,0}, // RX_TOP_DC_NOTCH_CFG3_BW_RED
    {0,SX1302_REG_RX_TOP_BASE_ADDR+83,0,0,8,0,0}, // RX_TOP_DC_NOTCH_CFG4_IIR_DCC_TIME
    {0,SX1302_REG_RX_TOP_BASE_ADDR+84,0,1,8,0,2}, // RX_TOP_RX_DFE_FIR1_0_FIR1_COEFF_0
    {0,SX1302_REG_RX_TOP_BASE_ADDR+85,0,1,8,0,3}, // RX_TOP_RX_DFE_FIR1_1_FIR1_COEFF_1
    {0,SX1302_REG_RX_TOP_BASE_ADDR+86,0,1,8,0,2}, // RX_TOP_RX_DFE_FIR1_2_FIR1_COEFF_2
    {0,SX1302_REG_RX_TOP_BASE_ADDR+87,0,1,8,0,3}, // RX_TOP_RX_DFE_FIR1_3_FIR1_COEFF_3
    {0,SX1302_REG_RX_TOP_BASE_ADDR+88,0,1,8,0,5}, // RX_TOP_RX_DFE_FIR1_4_FIR1_COEFF_4
    {0,SX1302_REG_RX_TOP_BASE_ADDR+89,0,1,8,0,8}, // RX_TOP_RX_DFE_FIR1_5_FIR1_COEFF_5
    {0,SX1302_REG_RX_TOP_BASE_ADDR+90,0,1,8,0,6}, // RX_TOP_RX_DFE_FIR1_6_FIR1_COEFF_6
    {0,SX1302_REG_RX_TOP_BASE_ADDR+91,0,1,8,0,4}, // RX_TOP_RX_DFE_FIR1_7_FIR1_COEFF_7
    {0,SX1302_REG_RX_TOP_BASE_ADDR+92,0,1,8,0,2}, // RX_TOP_RX_DFE_FIR2_0_FIR2_COEFF_0
    {0,SX1302_REG_RX_TOP_BASE_ADDR+93,0,1,8,0,-2}, // RX_TOP_RX_DFE_FIR2_1_FIR2_COEFF_1
    {0,SX1302_REG_RX_TOP_BASE_ADDR+94,0,1,8,0,-4}, // RX_TOP_RX_DFE_FIR2_2_FIR2_COEFF_2
    {0,SX1302_REG_RX_TOP_BASE_ADDR+95,0,1,8,0,-3}, // RX_TOP_RX_DFE_FIR2_3_FIR2_COEFF_3
    {0,SX1302_REG_RX_TOP_BASE_ADDR+96,0,1,8,0,3}, // RX_TOP_RX_DFE_FIR2_4_FIR2_COEFF_4
    {0,SX1302_REG_RX_TOP_BASE_ADDR+97,0,1,8,0,11}, // RX_TOP_RX_DFE_FIR2_5_FIR2_COEFF_5
    {0,SX1302_REG_RX_TOP_BASE_ADDR+98,0,1,8,0,19}, // RX_TOP_RX_DFE_FIR2_6_FIR2_COEFF_6
    {0,SX1302_REG_RX_TOP_BASE_ADDR+99,0,1,8,0,10}, // RX_TOP_RX_DFE_FIR2_7_FIR2_COEFF_7
    {0,SX1302_REG_RX_TOP_BASE_ADDR+100,7,0,1,0,0}, // RX_TOP_RX_DFE_AGC0_RADIO_GAIN_RED_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+100,0,0,7,0,0}, // RX_TOP_RX_DFE_AGC0_RADIO_GAIN_RED_DB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+101,4,0,1,0,0}, // RX_TOP_RX_DFE_AGC1_DC_COMP_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+101,3,0,1,0,0}, // RX_TOP_RX_DFE_AGC1_FORCE_DEFAULT_FIR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+101,2,0,1,0,1}, // RX_TOP_RX_DFE_AGC1_RSSI_EARLY_LATCH
    {0,SX1302_REG_RX_TOP_BASE_ADDR+101,1,0,1,0,1}, // RX_TOP_RX_DFE_AGC1_FREEZE_ON_SYNC
    {0,SX1302_REG_RX_TOP_BASE_ADDR+102,3,0,2,0,1}, // RX_TOP_RX_DFE_AGC2_RSSI_MAX_SAMPLE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+102,0,0,3,0,2}, // RX_TOP_RX_DFE_AGC2_RSSI_MIN_SAMPLE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+103,7,0,1,0,0}, // RX_TOP_RX_DFE_GAIN0_FORCE_GAIN_FIR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+103,4,0,2,0,0}, // RX_TOP_RX_DFE_GAIN0_GAIN_FIR1
    {0,SX1302_REG_RX_TOP_BASE_ADDR+103,0,0,3,0,0}, // RX_TOP_RX_DFE_GAIN0_GAIN_FIR2
    {0,SX1302_REG_RX_TOP_BASE_ADDR+104,5,0,2,0,0}, // RX_TOP_DAGC_CFG_TARGET_LVL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+104,4,0,1,0,0}, // RX_TOP_DAGC_CFG_GAIN_INCR_STEP
    {0,SX1302_REG_RX_TOP_BASE_ADDR+104,3,0,1,0,0}, // RX_TOP_DAGC_CFG_GAIN_DROP_COMP
    {0,SX1302_REG_RX_TOP_BASE_ADDR+104,2,0,1,0,1}, // RX_TOP_DAGC_CFG_COMB_FILTER_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+104,1,0,1,0,0}, // RX_TOP_DAGC_CFG_NO_FREEZE_START
    {0,SX1302_REG_RX_TOP_BASE_ADDR+104,0,0,1,0,0}, // RX_TOP_DAGC_CFG_FREEZE_ON_SYNC
    {0,SX1302_REG_RX_TOP_BASE_ADDR+105,0,0,8,0,60}, // RX_TOP_DAGC_CNT0_SAMPLE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+106,0,0,8,0,6}, // RX_TOP_DAGC_CNT1_THR_M6
    {0,SX1302_REG_RX_TOP_BASE_ADDR+107,0,0,8,0,25}, // RX_TOP_DAGC_CNT2_THR_M12
    {0,SX1302_REG_RX_TOP_BASE_ADDR+108,0,0,8,0,42}, // RX_TOP_DAGC_CNT3_THR_M18
    {0,SX1302_REG_RX_TOP_BASE_ADDR+109,4,0,4,0,3}, // RX_TOP_TXRX_CFG0_MODEM_BW
    {0,SX1302_REG_RX_TOP_BASE_ADDR+109,0,0,4,0,7}, // RX_TOP_TXRX_CFG0_MODEM_SF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+110,6,0,2,0,2}, // RX_TOP_TXRX_CFG1_PPM_OFFSET_HDR_CTRL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+110,4,0,2,0,0}, // RX_TOP_TXRX_CFG1_PPM_OFFSET
    {0,SX1302_REG_RX_TOP_BASE_ADDR+110,3,0,1,0,0}, // RX_TOP_TXRX_CFG1_MODEM_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+110,0,0,3,0,2}, // RX_TOP_TXRX_CFG1_CODING_RATE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+111,5,0,1,0,0}, // RX_TOP_TXRX_CFG2_FINE_SYNCH_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+111,4,0,1,0,0}, // RX_TOP_TXRX_CFG2_MODEM_START
    {0,SX1302_REG_RX_TOP_BASE_ADDR+111,2,0,2,0,0}, // RX_TOP_TXRX_CFG2_CADRXTX
    {0,SX1302_REG_RX_TOP_BASE_ADDR+111,1,0,1,0,0}, // RX_TOP_TXRX_CFG2_IMPLICIT_HEADER
    {0,SX1302_REG_RX_TOP_BASE_ADDR+111,0,0,1,0,1}, // RX_TOP_TXRX_CFG2_CRC_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+112,0,0,8,0,12}, // RX_TOP_TXRX_CFG3_PAYLOAD_LENGTH
    {0,SX1302_REG_RX_TOP_BASE_ADDR+113,7,0,1,0,0}, // RX_TOP_TXRX_CFG4_INT_STEP_ORIDE_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+113,0,0,6,0,0}, // RX_TOP_TXRX_CFG4_INT_STEP_ORIDE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+114,6,0,1,0,0}, // RX_TOP_TXRX_CFG5_HEADER_DIFF_MODE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+114,0,0,6,0,0}, // RX_TOP_TXRX_CFG5_ZERO_PAD
    {0,SX1302_REG_RX_TOP_BASE_ADDR+115,0,0,8,0,8}, // RX_TOP_TXRX_CFG6_PREAMBLE_SYMB_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+116,0,0,8,0,0}, // RX_TOP_TXRX_CFG7_PREAMBLE_SYMB_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+117,3,0,1,0,1}, // RX_TOP_TXRX_CFG8_AUTO_ACK_INT_DELAY
    {0,SX1302_REG_RX_TOP_BASE_ADDR+117,2,0,1,0,0}, // RX_TOP_TXRX_CFG8_AUTO_ACK_RX
    {0,SX1302_REG_RX_TOP_BASE_ADDR+117,1,0,1,0,0}, // RX_TOP_TXRX_CFG8_AUTO_ACK_TX
    {0,SX1302_REG_RX_TOP_BASE_ADDR+117,0,0,1,0,0}, // RX_TOP_TXRX_CFG8_POST_PREAMBLE_GAP_LONG
    {0,SX1302_REG_RX_TOP_BASE_ADDR+118,4,0,2,0,3}, // RX_TOP_RX_CFG0_DFT_PEAK_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+118,2,0,1,0,1}, // RX_TOP_RX_CFG0_CHIRP_INVERT
    {0,SX1302_REG_RX_TOP_BASE_ADDR+118,1,0,1,0,0}, // RX_TOP_RX_CFG0_SWAP_IQ
    {0,SX1302_REG_RX_TOP_BASE_ADDR+118,0,0,1,0,0}, // RX_TOP_RX_CFG0_CONTINUOUS
    {0,SX1302_REG_RX_TOP_BASE_ADDR+119,0,0,8,0,250}, // RX_TOP_RX_CFG1_SYNCH_TIMEOUT
    {0,SX1302_REG_RX_TOP_BASE_ADDR+120,5,0,2,0,2}, // RX_TOP_RX_CFG2_AUTO_ACK_RANGE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+120,0,0,5,0,22}, // RX_TOP_RX_CFG2_AUTO_ACK_DELAY
    {0,SX1302_REG_RX_TOP_BASE_ADDR+121,5,0,1,0,1}, // RX_TOP_RX_CFG3_RESTART_ON_HDR_ERR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+121,4,0,1,0,1}, // RX_TOP_RX_CFG3_CLK_EN_RESYNC_DIN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+121,0,0,4,0,11}, // RX_TOP_RX_CFG3_LLR_SCALE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+122,0,1,5,0,2}, // RX_TOP_FRAME_SYNCH0_PEAK1_POS
    {0,SX1302_REG_RX_TOP_BASE_ADDR+123,0,1,5,0,4}, // RX_TOP_FRAME_SYNCH1_PEAK2_POS
    {0,SX1302_REG_RX_TOP_BASE_ADDR+124,5,0,1,0,0}, // RX_TOP_FRAME_SYNCH2_FINETIME_ON_LAST
    {0,SX1302_REG_RX_TOP_BASE_ADDR+124,4,0,1,0,1}, // RX_TOP_FRAME_SYNCH2_AUTO_SCALE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+124,3,0,1,0,0}, // RX_TOP_FRAME_SYNCH2_DROP_ON_SYNCH
    {0,SX1302_REG_RX_TOP_BASE_ADDR+124,2,0,1,0,1}, // RX_TOP_FRAME_SYNCH2_GAIN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+124,0,0,2,0,3}, // RX_TOP_FRAME_SYNCH2_TIMEOUT_OPT
    {0,SX1302_REG_RX_TOP_BASE_ADDR+125,4,0,3,0,4}, // RX_TOP_FINE_TIMING0_GAIN_P_PREAMB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+125,2,0,2,0,2}, // RX_TOP_FINE_TIMING0_GAIN_P_AUTO
    {0,SX1302_REG_RX_TOP_BASE_ADDR+125,0,0,2,0,3}, // RX_TOP_FINE_TIMING0_MODE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+126,7,0,1,0,1}, // RX_TOP_FINE_TIMING1_FINESYNCH_GAIN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+126,6,0,1,0,0}, // RX_TOP_FINE_TIMING1_FINESYNCH_SUM
    {0,SX1302_REG_RX_TOP_BASE_ADDR+126,3,0,3,0,0}, // RX_TOP_FINE_TIMING1_SUM_SIZE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+126,0,0,3,0,2}, // RX_TOP_FINE_TIMING1_GAIN_P_PAYLOAD
    {0,SX1302_REG_RX_TOP_BASE_ADDR+127,2,0,2,0,3}, // RX_TOP_FINE_TIMING2_GAIN_I_AUTO
    {0,SX1302_REG_RX_TOP_BASE_ADDR+127,0,0,2,0,0}, // RX_TOP_FINE_TIMING2_POS_LIMIT
    {0,SX1302_REG_RX_TOP_BASE_ADDR+128,7,0,1,0,1}, // RX_TOP_FINE_TIMING3_GAIN_I_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+128,3,0,3,0,1}, // RX_TOP_FINE_TIMING3_GAIN_I_PAYLOAD
    {0,SX1302_REG_RX_TOP_BASE_ADDR+128,0,0,3,0,4}, // RX_TOP_FINE_TIMING3_GAIN_I_PREAMB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+129,0,0,4,0,9}, // RX_TOP_FREQ_TO_TIME0_FREQ_TO_TIME_DRIFT_MANT
    {0,SX1302_REG_RX_TOP_BASE_ADDR+130,0,0,8,0,112}, // RX_TOP_FREQ_TO_TIME1_FREQ_TO_TIME_DRIFT_MANT
    {0,SX1302_REG_RX_TOP_BASE_ADDR+131,0,0,3,0,3}, // RX_TOP_FREQ_TO_TIME2_FREQ_TO_TIME_DRIFT_EXP
    {0,SX1302_REG_RX_TOP_BASE_ADDR+132,0,0,2,0,0}, // RX_TOP_FREQ_TO_TIME3_FREQ_TO_TIME_INVERT
    {0,SX1302_REG_RX_TOP_BASE_ADDR+133,0,0,8,0,9}, // RX_TOP_FREQ_TO_TIME4_FREQ_TO_TIME_INVERT
    {0,SX1302_REG_RX_TOP_BASE_ADDR+134,0,0,7,0,33}, // RX_TOP_FREQ_TO_TIME5_FREQ_TO_TIME_INVERT_RNG
    {0,SX1302_REG_RX_TOP_BASE_ADDR+135,4,0,3,0,7}, // RX_TOP_FREQ_TRACK0_FREQ_TRACK_HDR_SKIP
    {0,SX1302_REG_RX_TOP_BASE_ADDR+135,0,0,2,0,2}, // RX_TOP_FREQ_TRACK0_FREQ_TRACK_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+136,4,0,3,0,5}, // RX_TOP_FREQ_TRACK1_FREQ_SYNCH_GAIN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+136,0,0,4,0,3}, // RX_TOP_FREQ_TRACK1_FREQ_TRACK_AUTO_THR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+137,0,0,5,0,8}, // RX_TOP_FREQ_TRACK2_FREQ_SYNCH_THR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+138,0,0,7,0,32}, // RX_TOP_DETECT_MSP0_MSP_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+139,0,0,7,0,48}, // RX_TOP_DETECT_MSP1_MSP2_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+140,4,0,3,0,5}, // RX_TOP_DETECT_MSP2_MSP2_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+140,0,0,3,0,3}, // RX_TOP_DETECT_MSP2_MSP_PEAK_NB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+141,2,0,1,0,1}, // RX_TOP_DETECT_MSP3_MSP_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+141,0,0,2,0,1}, // RX_TOP_DETECT_MSP3_MSP_CNT_MODE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+142,0,0,7,0,64}, // RX_TOP_DETECT_ACC1_ACC_PNR
    {0,SX1302_REG_RX_TOP_BASE_ADDR+143,6,0,2,0,2}, // RX_TOP_DETECT_ACC2_NOISE_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+143,4,0,2,0,2}, // RX_TOP_DETECT_ACC2_ACC_COEFF
    {0,SX1302_REG_RX_TOP_BASE_ADDR+143,3,0,1,0,1}, // RX_TOP_DETECT_ACC2_ACC_2_SAME_PEAKS
    {0,SX1302_REG_RX_TOP_BASE_ADDR+143,2,0,1,0,1}, // RX_TOP_DETECT_ACC2_ACC_AUTO_RESCALE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+143,1,0,1,0,1}, // RX_TOP_DETECT_ACC2_ACC_PEAK_POS_SEL
    {0,SX1302_REG_RX_TOP_BASE_ADDR+143,0,0,1,0,1}, // RX_TOP_DETECT_ACC2_ACC_PEAK_SUM_EN
    {0,SX1302_REG_RX_TOP_BASE_ADDR+144,0,0,8,0,11}, // RX_TOP_DETECT_ACC3_MIN_SINGLE_PEAK
    {0,SX1302_REG_RX_TOP_BASE_ADDR+145,3,0,1,0,0}, // RX_TOP_TIMESTAMP_ENABLE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+145,0,0,3,0,7}, // RX_TOP_TIMESTAMP_NB_SYMB
    {0,SX1302_REG_RX_TOP_BASE_ADDR+146,2,0,1,0,0}, // RX_TOP_RX_BUFFER_LEGACY_TIMESTAMP
    {0,SX1302_REG_RX_TOP_BASE_ADDR+146,1,0,1,0,0}, // RX_TOP_RX_BUFFER_STORE_HEADER_ERR_META
    {0,SX1302_REG_RX_TOP_BASE_ADDR+146,0,0,1,0,0}, // RX_TOP_RX_BUFFER_STORE_SYNC_FAIL_META
    {0,SX1302_REG_RX_TOP_BASE_ADDR+147,0,0,8,0,255}, // RX_TOP_RX_BUFFER_TIMESTAMP_CFG_MAX_TS_METRICS
    {0,SX1302_REG_RX_TOP_BASE_ADDR+148,0,0,5,1,0}, // RX_TOP_RX_BUFFER_LAST_ADDR_READ_MSB_LAST_ADDR_READ
    {0,SX1302_REG_RX_TOP_BASE_ADDR+149,0,0,8,1,0}, // RX_TOP_RX_BUFFER_LAST_ADDR_READ_LSB_LAST_ADDR_READ
    {0,SX1302_REG_RX_TOP_BASE_ADDR+150,0,0,5,1,0}, // RX_TOP_RX_BUFFER_LAST_ADDR_WRITE_MSB_LAST_ADDR_WRITE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+151,0,0,8,1,0}, // RX_TOP_RX_BUFFER_LAST_ADDR_WRITE_LSB_LAST_ADDR_WRITE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+152,0,0,5,1,0}, // RX_TOP_RX_BUFFER_NB_BYTES_MSB_RX_BUFFER_NB_BYTES
    {0,SX1302_REG_RX_TOP_BASE_ADDR+153,0,0,8,1,0}, // RX_TOP_RX_BUFFER_NB_BYTES_LSB_RX_BUFFER_NB_BYTES
    {0,SX1302_REG_RX_TOP_BASE_ADDR+154,0,0,8,1,0}, // RX_TOP_MODEM_BUSY_MSB_RX_MODEM_BUSY
    {0,SX1302_REG_RX_TOP_BASE_ADDR+155,0,0,8,1,0}, // RX_TOP_MODEM_BUSY_LSB_RX_MODEM_BUSY
    {0,SX1302_REG_RX_TOP_BASE_ADDR+156,4,0,4,1,0}, // RX_TOP_MODEM_STATE_RX_MODEM_STS_SPARE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+156,0,0,4,1,0}, // RX_TOP_MODEM_STATE_RX_MODEM_STATE
    {0,SX1302_REG_RX_TOP_BASE_ADDR+157,0,0,4,0,0}, // RX_TOP_MODEM_SYNC_DELTA_MSB_MODEM_SYNC_DELTA
    {0,SX1302_REG_RX_TOP_BASE_ADDR+158,0,0,8,0,7}, // RX_TOP_MODEM_SYNC_DELTA_LSB_MODEM_SYNC_DELTA
    {0,SX1302_REG_RX_TOP_BASE_ADDR+159,6,0,2,0,0}, // RX_TOP_MODEM_PPM_OFFSET1_PPM_OFFSET_SF8
    {0,SX1302_REG_RX_TOP_BASE_ADDR+159,4,0,2,0,0}, // RX_TOP_MODEM_PPM_OFFSET1_PPM_OFFSET_SF7
    {0,SX1302_REG_RX_TOP_BASE_ADDR+159,2,0,2,0,0}, // RX_TOP_MODEM_PPM_OFFSET1_PPM_OFFSET_SF6
    {0,SX1302_REG_RX_TOP_BASE_ADDR+159,0,0,2,0,0}, // RX_TOP_MODEM_PPM_OFFSET1_PPM_OFFSET_SF5
    {0,SX1302_REG_RX_TOP_BASE_ADDR+160,6,0,2,0,1}, // RX_TOP_MODEM_PPM_OFFSET2_PPM_OFFSET_SF12
    {0,SX1302_REG_RX_TOP_BASE_ADDR+160,4,0,2,0,1}, // RX_TOP_MODEM_PPM_OFFSET2_PPM_OFFSET_SF11
    {0,SX1302_REG_RX_TOP_BASE_ADDR+160,2,0,2,0,0}, // RX_TOP_MODEM_PPM_OFFSET2_PPM_OFFSET_SF10
    {0,SX1302_REG_RX_TOP_BASE_ADDR+160,0,0,2,0,0}, // RX_TOP_MODEM_PPM_OFFSET2_PPM_OFFSET_SF9
    {0,SX1302_REG_RX_TOP_BASE_ADDR+161,0,0,1,0,0}, // RX_TOP_DUMMY_DUMMY
    {0,SX1302_REG_ARB_MCU_BASE_ADDR+0,4,0,1,0,0}, // ARB_MCU_CTRL_RADIO_RST
    {0,SX1302_REG_ARB_MCU_BASE_ADDR+0,3,0,1,0,0}, // ARB_MCU_CTRL_FORCE_HOST_FE_CTRL
    {0,SX1302_REG_ARB_MCU_BASE_ADDR+0,2,0,1,0,0}, // ARB_MCU_CTRL_MCU_CLEAR
    {0,SX1302_REG_ARB_MCU_BASE_ADDR+0,1,0,1,0,0}, // ARB_MCU_CTRL_HOST_PROG
    {0,SX1302_REG_ARB_MCU_BASE_ADDR+0,0,0,1,1,0}, // ARB_MCU_CTRL_PARITY_ERROR
    {0,SX1302_REG_ARB_MCU_BASE_ADDR+1,0,0,1,1,0}, // ARB_MCU_MCU_ARB_STATUS_MCU_ARB_STATUS
    {0,SX1302_REG_ARB_MCU_BASE_ADDR+7,5,0,1,0,0}, // ARB_MCU_UART_CFG_MSBF
    {0,SX1302_REG_ARB_MCU_BASE_ADDR+7,4,0,1,0,0}, // ARB_MCU_UART_CFG_PAR_EN
    {0,SX1302_REG_ARB_MCU_BASE_ADDR+7,3,0,1,0,0}, // ARB_MCU_UART_CFG_PAR_MODE
    {0,SX1302_REG_ARB_MCU_BASE_ADDR+7,2,0,1,0,0}, // ARB_MCU_UART_CFG_START_LEN
    {0,SX1302_REG_ARB_MCU_BASE_ADDR+7,1,0,1,0,0}, // ARB_MCU_UART_CFG_STOP_LEN
    {0,SX1302_REG_ARB_MCU_BASE_ADDR+7,0,0,1,0,1}, // ARB_MCU_UART_CFG_WORD_LEN
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+0,6,0,1,0,0}, // RADIO_FE_CTRL0_RADIO_A_DECIM_CLR
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+0,5,0,1,0,0}, // RADIO_FE_CTRL0_RADIO_A_DC_NOTCH_EN
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+0,4,0,1,0,0}, // RADIO_FE_CTRL0_RADIO_A_FORCE_HOST_FILTER_GAIN
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+0,0,0,4,0,0}, // RADIO_FE_CTRL0_RADIO_A_HOST_FILTER_GAIN
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+1,0,0,8,0,0}, // RADIO_FE_RSSI_DB_DEF_RADIO_A_RSSI_DB_DEFAULT_VALUE
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+2,0,0,8,0,0}, // RADIO_FE_RSSI_DEC_DEF_RADIO_A_RSSI_DEC_DEFAULT_VALUE
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+3,0,0,8,1,0}, // RADIO_FE_RSSI_DEC_RD_RADIO_A_RSSI_DEC_OUT
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+4,0,0,8,1,0}, // RADIO_FE_RSSI_BB_RD_RADIO_A_RSSI_BB_OUT
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+5,0,0,4,1,0}, // RADIO_FE_DEC_FILTER_RD_RADIO_A_DEC_FILTER_GAIN
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+6,0,0,5,0,0}, // RADIO_FE_RSSI_BB_FILTER_ALPHA_RADIO_A_RSSI_BB_FILTER_ALPHA
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+7,0,0,5,0,0}, // RADIO_FE_RSSI_DEC_FILTER_ALPHA_RADIO_A_RSSI_DEC_FILTER_ALPHA
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+8,0,0,6,0,0}, // RADIO_FE_IQ_COMP_AMP_COEFF_RADIO_A_AMP_COEFF
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+9,0,0,6,0,0}, // RADIO_FE_IQ_COMP_PHI_COEFF_RADIO_A_PHI_COEFF
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+10,6,0,1,0,0}, // RADIO_FE_CTRL0_RADIO_B_DECIM_CLR
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+10,5,0,1,0,0}, // RADIO_FE_CTRL0_RADIO_B_DC_NOTCH_EN
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+10,4,0,1,0,0}, // RADIO_FE_CTRL0_RADIO_B_FORCE_HOST_FILTER_GAIN
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+10,0,0,4,0,0}, // RADIO_FE_CTRL0_RADIO_B_HOST_FILTER_GAIN
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+11,0,0,8,0,0}, // RADIO_FE_RSSI_DB_DEF_RADIO_B_RSSI_DB_DEFAULT_VALUE
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+12,0,0,8,0,0}, // RADIO_FE_RSSI_DEC_DEF_RADIO_B_RSSI_DEC_DEFAULT_VALUE
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+13,0,0,8,1,0}, // RADIO_FE_RSSI_DEC_RD_RADIO_B_RSSI_DEC_OUT
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+14,0,0,8,1,0}, // RADIO_FE_RSSI_BB_RD_RADIO_B_RSSI_BB_OUT
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+15,0,0,4,1,0}, // RADIO_FE_DEC_FILTER_RD_RADIO_B_DEC_FILTER_GAIN
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+16,0,0,5,0,0}, // RADIO_FE_RSSI_BB_FILTER_ALPHA_RADIO_B_RSSI_BB_FILTER_ALPHA
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+17,0,0,5,0,0}, // RADIO_FE_RSSI_DEC_FILTER_ALPHA_RADIO_B_RSSI_DEC_FILTER_ALPHA
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+18,0,0,6,0,0}, // RADIO_FE_IQ_COMP_AMP_COEFF_RADIO_B_AMP_COEFF
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+19,0,0,6,0,0}, // RADIO_FE_IQ_COMP_PHI_COEFF_RADIO_B_PHI_COEFF
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+20,7,0,1,1,0}, // RADIO_FE_SIG_ANA_CFG_VALID
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+20,5,0,2,0,0}, // RADIO_FE_SIG_ANA_CFG_CORR_AVG_LEN
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+20,2,0,3,0,0}, // RADIO_FE_SIG_ANA_CFG_CORR_PREC_IN
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+20,1,0,1,0,0}, // RADIO_FE_SIG_ANA_CFG_RADIO_SEL
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+20,0,0,1,0,0}, // RADIO_FE_SIG_ANA_CFG_EN
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+21,0,0,8,0,0}, // RADIO_FE_SIG_ANA_FREQ_FREQ
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+22,0,0,8,1,0}, // RADIO_FE_SIG_ANA_CORR_I_OUT_CORR_I_OUT
    {0,SX1302_REG_RADIO_FE_BASE_ADDR+23,0,0,8,1,0}, // RADIO_FE_SIG_ANA_CORR_Q_OUT_CORR_Q_OUT
    {0,SX1302_REG_OTP_BASE_ADDR+0,0,0,8,0,0}, // OTP_BYTE_ADDR_ADDR
    {0,SX1302_REG_OTP_BASE_ADDR+1,0,0,8,1,0}, // OTP_RD_DATA_RD_DATA
    {0,SX1302_REG_OTP_BASE_ADDR+2,4,0,4,1,0}, // OTP_STATUS_CHECKSUM_STATUS
    {0,SX1302_REG_OTP_BASE_ADDR+2,0,0,1,1,0}, // OTP_STATUS_FSM_READY
    {0,SX1302_REG_OTP_BASE_ADDR+3,0,0,2,0,0}, // OTP_CFG_ACCESS_MODE
    {0,SX1302_REG_OTP_BASE_ADDR+4,0,0,3,0,0}, // OTP_BIT_POS_POS
    {0,SX1302_REG_OTP_BASE_ADDR+5,4,0,4,0,0}, // OTP_PIN_CTRL_0_TM
    {0,SX1302_REG_OTP_BASE_ADDR+5,3,0,1,0,0}, // OTP_PIN_CTRL_0_STROBE
    {0,SX1302_REG_OTP_BASE_ADDR+5,2,0,1,0,0}, // OTP_PIN_CTRL_0_PGENB
    {0,SX1302_REG_OTP_BASE_ADDR+5,1,0,1,0,0}, // OTP_PIN_CTRL_0_LOAD
    {0,SX1302_REG_OTP_BASE_ADDR+5,0,0,1,0,0}, // OTP_PIN_CTRL_0_CSB
    {0,SX1302_REG_OTP_BASE_ADDR+6,2,0,1,0,0}, // OTP_PIN_CTRL_1_FSCK
    {0,SX1302_REG_OTP_BASE_ADDR+6,1,0,1,0,0}, // OTP_PIN_CTRL_1_FSI
    {0,SX1302_REG_OTP_BASE_ADDR+6,0,0,1,0,0}, // OTP_PIN_CTRL_1_FRST
    {0,SX1302_REG_OTP_BASE_ADDR+7,0,0,1,1,0}, // OTP_PIN_STATUS_FSO
    {0,SX1302_REG_OTP_BASE_ADDR+8,0,0,8,0,255}, // OTP_MODEM_EN_0_MODEM_EN
    {0,SX1302_REG_OTP_BASE_ADDR+9,0,0,8,0,255}, // OTP_MODEM_EN_1_MODEM_EN
    {0,SX1302_REG_OTP_BASE_ADDR+10,0,0,8,0,255}, // OTP_MODEM_SF_EN_SF_EN
    {0,SX1302_REG_OTP_BASE_ADDR+11,0,0,1,0,1}, // OTP_TIMESTAMP_EN_TIMESTAMP_EN
    {0,0,0,0,0,0,0}
};

/* -------------------------------------------------------------------------- */
/* --- PRIVATE VARIABLES ---------------------------------------------------- */

/* -------------------------------------------------------------------------- */
/* --- INTERNAL SHARED VARIABLES -------------------------------------------- */

void *lgw_spi_target = NULL; /*! generic pointer to the SPI device */

/* -------------------------------------------------------------------------- */
/* --- PRIVATE FUNCTIONS ---------------------------------------------------- */

int reg_w_align32(void *spi_target, uint8_t spi_mux_target, struct lgw_reg_s r, int32_t reg_value) {
    int spi_stat = LGW_REG_SUCCESS;
    int i, size_byte;
    uint8_t buf[4] = "\x00\x00\x00\x00";

    if ((r.leng == 8) && (r.offs == 0)) {
        /* direct write */
        spi_stat += lgw_spi_w(spi_target, spi_mux_target, r.addr, (uint8_t)reg_value);
    } else if ((r.offs + r.leng) <= 8) {
        /* single-byte read-modify-write, offs:[0-7], leng:[1-7] */
        spi_stat += lgw_spi_r(spi_target, spi_mux_target, r.addr, &buf[0]);
        buf[1] = ((1 << r.leng) - 1) << r.offs; /* bit mask */
        buf[2] = ((uint8_t)reg_value) << r.offs; /* new data offsetted */
        buf[3] = (~buf[1] & buf[0]) | (buf[1] & buf[2]); /* mixing old & new data */
        spi_stat += lgw_spi_w(spi_target, spi_mux_target, r.addr, buf[3]);
    } else if ((r.offs == 0) && (r.leng > 0) && (r.leng <= 32)) {
        /* multi-byte direct write routine */
        size_byte = (r.leng + 7) / 8; /* add a byte if it's not an exact multiple of 8 */
        for (i=0; i<size_byte; ++i) {
            /* big endian register file for a file on N bytes
            Least significant byte is stored in buf[0], most one in buf[N-1] */
            buf[i] = (uint8_t)(0x000000FF & reg_value);
            reg_value = (reg_value >> 8);
        }
        spi_stat += lgw_spi_wb(spi_target, spi_mux_target, r.addr, buf, size_byte); /* write the register in one burst */
    } else {
        /* register spanning multiple memory bytes but with an offset */
        DEBUG_MSG("ERROR: REGISTER SIZE AND OFFSET ARE NOT SUPPORTED\n");
        return LGW_REG_ERROR;
    }

    return spi_stat;
}

/* ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

int reg_r_align32(void *spi_target, uint8_t spi_mux_target, struct lgw_reg_s r, int32_t *reg_value) {
    int spi_stat = LGW_SPI_SUCCESS;
    uint8_t bufu[4] = "\x00\x00\x00\x00";
    int8_t *bufs = (int8_t *)bufu;
    int i, size_byte;
    uint32_t u = 0;

    if ((r.offs + r.leng) <= 8) {
        /* read one byte, then shift and mask bits to get reg value with sign extension if needed */
        spi_stat += lgw_spi_r(spi_target, spi_mux_target, r.addr, &bufu[0]);
        bufu[1] = bufu[0] << (8 - r.leng - r.offs); /* left-align the data */
        if (r.sign == true) {
            bufs[2] = bufs[1] >> (8 - r.leng); /* right align the data with sign extension (ARITHMETIC right shift) */
            *reg_value = (int32_t)bufs[2]; /* signed pointer -> 32b sign extension */
        } else {
            bufu[2] = bufu[1] >> (8 - r.leng); /* right align the data, no sign extension */
            *reg_value = (int32_t)bufu[2]; /* unsigned pointer -> no sign extension */
        }
    } else if ((r.offs == 0) && (r.leng > 0) && (r.leng <= 32)) {
        size_byte = (r.leng + 7) / 8; /* add a byte if it's not an exact multiple of 8 */
        spi_stat += lgw_spi_rb(spi_target, spi_mux_target, r.addr, bufu, size_byte);
        u = 0;
        for (i=(size_byte-1); i>=0; --i) {
            u = (uint32_t)bufu[i] + (u << 8); /* transform a 4-byte array into a 32 bit word */
        }
        if (r.sign == true) {
            u = u << (32 - r.leng); /* left-align the data */
            *reg_value = (int32_t)u >> (32 - r.leng); /* right-align the data with sign extension (ARITHMETIC right shift) */
        } else {
            *reg_value = (int32_t)u; /* unsigned value -> return 'as is' */
        }
    } else {
        /* register spanning multiple memory bytes but with an offset */
        DEBUG_MSG("ERROR: REGISTER SIZE AND OFFSET ARE NOT SUPPORTED\n");
        return LGW_REG_ERROR;
    }

    return spi_stat;
}

/* -------------------------------------------------------------------------- */
/* --- PUBLIC FUNCTIONS DEFINITION ------------------------------------------ */

/* Concentrator connect */
int lgw_connect(void) {
    int spi_stat = LGW_SPI_SUCCESS;
    uint8_t u = 0;

    /* check SPI link status */
    if (lgw_spi_target != NULL) {
        DEBUG_MSG("WARNING: concentrator was already connected\n");
        lgw_spi_close(lgw_spi_target);
    }

    /* open the SPI link */
    spi_stat = lgw_spi_open(&lgw_spi_target);
    if (spi_stat != LGW_SPI_SUCCESS) {
        DEBUG_MSG("ERROR CONNECTING CONCENTRATOR\n");
        return LGW_REG_ERROR;
    }

    /* check SX1301 version */
    spi_stat = lgw_spi_r(lgw_spi_target, LGW_SPI_MUX_TARGET_SX1302, loregs[SX1302_REG_COMMON_VERSION_VERSION].addr, &u);
    if (spi_stat != LGW_SPI_SUCCESS) {
        DEBUG_MSG("ERROR READING CHIP VERSION REGISTER\n");
        return LGW_REG_ERROR;
    }
    if (u != loregs[SX1302_REG_COMMON_VERSION_VERSION].dflt) {
        DEBUG_PRINTF("ERROR: NOT EXPECTED CHIP VERSION (v%u)\n", u);
        return LGW_REG_ERROR;
    }
    DEBUG_PRINTF("Note: chip version is 0x%02X\n", u);

    DEBUG_MSG("Note: success connecting the concentrator\n");
    return LGW_REG_SUCCESS;
}

/* ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

/* Concentrator disconnect */
int lgw_disconnect(void) {
    if (lgw_spi_target != NULL) {
        lgw_spi_close(lgw_spi_target);
        lgw_spi_target = NULL;
        DEBUG_MSG("Note: success disconnecting the concentrator\n");
        return LGW_REG_SUCCESS;
    } else {
        DEBUG_MSG("WARNING: concentrator was already disconnected\n");
        return LGW_REG_ERROR;
    }
}

/* ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

/* Write to a register addressed by name */
int lgw_reg_w(uint16_t register_id, int32_t reg_value) {
    int spi_stat = LGW_SPI_SUCCESS;
    struct lgw_reg_s r;

    /* check input parameters */
    if (register_id >= LGW_TOTALREGS) {
        DEBUG_MSG("ERROR: REGISTER NUMBER OUT OF DEFINED RANGE\n");
        return LGW_REG_ERROR;
    }

    /* check if SPI is initialised */
    if (lgw_spi_target == NULL) {
        DEBUG_MSG("ERROR: CONCENTRATOR UNCONNECTED\n");
        return LGW_REG_ERROR;
    }

    /* get register struct from the struct array */
    r = loregs[register_id];

    /* reject write to read-only registers */
    if (r.rdon == 1){
        DEBUG_MSG("ERROR: TRYING TO WRITE A READ-ONLY REGISTER\n");
        return LGW_REG_ERROR;
    }

    spi_stat += reg_w_align32(lgw_spi_target, LGW_SPI_MUX_TARGET_SX1302, r, reg_value);

    if (spi_stat != LGW_SPI_SUCCESS) {
        DEBUG_MSG("ERROR: SPI ERROR DURING REGISTER WRITE\n");
        return LGW_REG_ERROR;
    } else {
        return LGW_REG_SUCCESS;
    }
}

/* ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

/* Read to a register addressed by name */
int lgw_reg_r(uint16_t register_id, int32_t *reg_value) {
    int spi_stat = LGW_SPI_SUCCESS;
    struct lgw_reg_s r;

    /* check input parameters */
    CHECK_NULL(reg_value);
    if (register_id >= LGW_TOTALREGS) {
        DEBUG_MSG("ERROR: REGISTER NUMBER OUT OF DEFINED RANGE\n");
        return LGW_REG_ERROR;
    }

    /* check if SPI is initialised */
    if (lgw_spi_target == NULL) {
        DEBUG_MSG("ERROR: CONCENTRATOR UNCONNECTED\n");
        return LGW_REG_ERROR;
    }

    /* get register struct from the struct array */
    r = loregs[register_id];

    spi_stat += reg_r_align32(lgw_spi_target, LGW_SPI_MUX_TARGET_SX1302, r, reg_value);

    if (spi_stat != LGW_SPI_SUCCESS) {
        DEBUG_MSG("ERROR: SPI ERROR DURING REGISTER WRITE\n");
        return LGW_REG_ERROR;
    } else {
        return LGW_REG_SUCCESS;
    }
}

/* ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

/* Point to a register by name and do a burst write */
int lgw_reg_wb(uint16_t register_id, uint8_t *data, uint16_t size) {
    int spi_stat = LGW_SPI_SUCCESS;
    struct lgw_reg_s r;

    /* check input parameters */
    CHECK_NULL(data);
    if (size == 0) {
        DEBUG_MSG("ERROR: BURST OF NULL LENGTH\n");
        return LGW_REG_ERROR;
    }
    if (register_id >= LGW_TOTALREGS) {
        DEBUG_MSG("ERROR: REGISTER NUMBER OUT OF DEFINED RANGE\n");
        return LGW_REG_ERROR;
    }

    /* check if SPI is initialised */
    if (lgw_spi_target == NULL) {
        DEBUG_MSG("ERROR: CONCENTRATOR UNCONNECTED\n");
        return LGW_REG_ERROR;
    }

    /* get register struct from the struct array */
    r = loregs[register_id];

    /* reject write to read-only registers */
    if (r.rdon == 1){
        DEBUG_MSG("ERROR: TRYING TO BURST WRITE A READ-ONLY REGISTER\n");
        return LGW_REG_ERROR;
    }

    /* do the burst write */
    spi_stat += lgw_spi_wb(lgw_spi_target, LGW_SPI_MUX_TARGET_SX1302, r.addr, data, size);

    if (spi_stat != LGW_SPI_SUCCESS) {
        DEBUG_MSG("ERROR: SPI ERROR DURING REGISTER BURST WRITE\n");
        return LGW_REG_ERROR;
    } else {
        return LGW_REG_SUCCESS;
    }
}

/* ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

/* Point to a register by name and do a burst read */
int lgw_reg_rb(uint16_t register_id, uint8_t *data, uint16_t size) {
    int spi_stat = LGW_SPI_SUCCESS;
    struct lgw_reg_s r;

    /* check input parameters */
    CHECK_NULL(data);
    if (size == 0) {
        DEBUG_MSG("ERROR: BURST OF NULL LENGTH\n");
        return LGW_REG_ERROR;
    }
    if (register_id >= LGW_TOTALREGS) {
        DEBUG_MSG("ERROR: REGISTER NUMBER OUT OF DEFINED RANGE\n");
        return LGW_REG_ERROR;
    }

    /* check if SPI is initialised */
    if (lgw_spi_target == NULL) {
        DEBUG_MSG("ERROR: CONCENTRATOR UNCONNECTED\n");
        return LGW_REG_ERROR;
    }

    /* get register struct from the struct array */
    r = loregs[register_id];

    /* do the burst read */
    spi_stat += lgw_spi_rb(lgw_spi_target, LGW_SPI_MUX_TARGET_SX1302, r.addr, data, size);

    if (spi_stat != LGW_SPI_SUCCESS) {
        DEBUG_MSG("ERROR: SPI ERROR DURING REGISTER BURST READ\n");
        return LGW_REG_ERROR;
    } else {
        return LGW_REG_SUCCESS;
    }
}

/* ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

int lgw_mem_wb(uint16_t mem_addr, const uint8_t *data, uint16_t size) {
    int spi_stat = LGW_SPI_SUCCESS;

    /* check input parameters */
    CHECK_NULL(data);
    if (size == 0) {
        DEBUG_MSG("ERROR: BURST OF NULL LENGTH\n");
        return LGW_REG_ERROR;
    }

    /* check if SPI is initialised */
    if (lgw_spi_target == NULL) {
        DEBUG_MSG("ERROR: CONCENTRATOR UNCONNECTED\n");
        return LGW_REG_ERROR;
    }

    /* do the burst write */
    spi_stat += lgw_spi_wb(lgw_spi_target, LGW_SPI_MUX_TARGET_SX1302, mem_addr, data, size);

    if (spi_stat != LGW_SPI_SUCCESS) {
        DEBUG_MSG("ERROR: SPI ERROR DURING REGISTER BURST WRITE\n");
        return LGW_REG_ERROR;
    } else {
        return LGW_REG_SUCCESS;
    }
}

int lgw_mem_rb(uint16_t mem_addr, uint8_t *data, uint16_t size) {
    int spi_stat = LGW_SPI_SUCCESS;

    /* check input parameters */
    CHECK_NULL(data);
    if (size == 0) {
        DEBUG_MSG("ERROR: BURST OF NULL LENGTH\n");
        return LGW_REG_ERROR;
    }

    /* check if SPI is initialised */
    if (lgw_spi_target == NULL) {
        DEBUG_MSG("ERROR: CONCENTRATOR UNCONNECTED\n");
        return LGW_REG_ERROR;
    }

    /* do the burst read */
    spi_stat += lgw_spi_rb(lgw_spi_target, LGW_SPI_MUX_TARGET_SX1302, mem_addr, data, size);

    if (spi_stat != LGW_SPI_SUCCESS) {
        DEBUG_MSG("ERROR: SPI ERROR DURING REGISTER BURST READ\n");
        return LGW_REG_ERROR;
    } else {
        return LGW_REG_SUCCESS;
    }
}
/* --- EOF ------------------------------------------------------------------ */
